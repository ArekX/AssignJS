<!DOCTYPE html>
<html>
<head>
    <title >App</title>
</head>
<body data-test-1="s" data-test-2="b"> <!-- Assign reference to body element -->
<pre data-assign='app.main:parentMan'>
Assign JS tests. See source for more info.

Initialize app.my-app component, name it as app, and add "ctrl" component into it. This component has a template.
<div></div>
<div data-assign='app.test:body <- (5.25):g, (-225):t ({"evo": 2}):Ref, (true):nesto, ([1,2,3,4,5,6,"heheheh"]):arraycova'>
</div>
<div data-assign='app.test:test <- body, (5.25):g, parentMan:parens'>test2</div>
<textarea data-assign="app.test" rows="10" cols="50"></textarea>
</pre>
<script src="index.js" data-name-as="coreLib"></script>
<script src="vars.js"></script>
<script src="assert.js"></script>
<script src="modules.js"></script>
<script src="html.js"></script>
<script src="manager.base.js"></script>
<script src="event.js"></script>
<script src="bootstrap.js"></script>
<script src="container.js"></script>
<script src="container.base.js"></script>
<script src="container.render.js"></script>
<script src="scope.js"></script>
<script src="parser.js"></script>
<script src="component.js"></script>
<script src="component.base.js"></script>
<script src="component.props.js"></script>
<script src="component.render.property.js"></script>
<script src="component.scope.property.js"></script>
<script src="assignments.js"></script>

<script>
coreLib.modules.extend("core.components", function() {
    var module = this.module;
    var html = coreLib.html;
    var parser = coreLib.modules.get('core.parser');

    var spanTemplate = html.createTemplate('span', {
        attributes: {
            dataTest: 'test'
        },
        events: {
            click: function() {
                alert('yeeeey!');
            }
        }
    });

    function AppTest() {
    }

    AppTest.prototype.initialize = function() {
        this.props.set("t", "woohoo");
        this.props.set("b", "buhu");
        this.props.set("a", "A is for Awesome");

        setTimeout(() => {
            var span = spanTemplate();
        
        parser.compile(`
            <div>
            Ok this is something to be compiled.
            <div data-assign="app.another.test"></div>
            <h1>Another Test</h1>
            </div>
        `, span);

        this.props.set("test", span);
        }, 2000);

        this.props.set("prop", function(t, b, a) {
            return html.parse('span', `${t} | ${b} | <a href="test">${a}</a>`);
        });
	}

	AppTest.prototype.template = `
        <strong>Oho</strong>! 
        <strong data-assign='@prop(t,b,a)'></strong> 
        <strong data-assign='@test'></strong> 
        <strong data-assign='@prop(t,b,a)' data-assign-prop=":prop"></strong> 
        <div data-assign='app.another.test'></div>
    `;

    module.define("app.test", AppTest);
    module.define("app.main", function AppMain() {});
    

    function AnotherTest() {
    	this.template = html.parse('div', "Template 2 <a href='#' data-assign='@idemo'>man</a>!");
    
        this.initialize = function() {
            this.props.set("idemo", "Idemo opet!")
        };
        this.destroy = function() {
            console.log('destroy was called');
        };
    }

     module.define("app.another.test", AnotherTest);
});
coreLib.run();
</script>
</body>
</html>